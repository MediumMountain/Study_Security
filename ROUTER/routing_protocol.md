# routing protocol
- ルータ間の経路情報の交換に用いられる、専用の通信規約（プロトコル）

- 同一の管理主体の運営するネットワーク（AS：Autonomous System、自律システム）内で用いられるルーティングプロトコルをIGP（Interior Gateway Protocol）と呼び、RIPやOSPF、IGRP、EIGRPなどが用いられる。
- 一方、異なるAS間の接続ではEGP（Exterior Gateway Protocol）と呼ばれるルーティングプロトコルが用いられ、インターネット上では一般にBGPが用いられる。





## AS番号【Autonomous System number】ASN
- インターネットを構成する個々の独立したネットワーク（AS：自律システム）に対して割り当てられている、一意の識別番号。2バイト（16ビット）または4バイト（32ビット）の値で、各国のネットワークインフォメーションセンター（NIC）が発行している。

- インターネットは様々な管理主体の運用する通信ネットワークを相互に接続して成り立っている。
- その構成単位となる、個々の通信事業者やインターネットサービスプロバイダ（ISP）、企業などにより統一された運用方針や制御情報に基づいて通信するネットワークのことをAS（Autonomous System）という。

- インターネット上でのパケットの経路制御はAS間とAS内で分かれており、BGPによるAS間の経路選択を行う際の各ASの識別番号としてAS番号が用いられる。
- 重複を避けるためIANAが統一的に管理しており、各地域の地域インターネットレジストリ（RIR：Regional Internet Registry）にブロック単位で配布され、RIRが各国NICを通じてインターネットへの接続を希望する組織に割り当てを行う。

- AS番号はすべての接続ネットワークに割り当てられるわけではなく、経路制御や選択に必要となる場合に限られる。
- すなわち、複数の異なるASと接続を持ち、パケットが様々な経路に転送されうるAS（マルチホームAS）にはAS番号が与えられるが、単一のAS（上位プロバイダなど）のみを介してインターネットへ接続しており、外部との経路がすべて上位ASを通過するような場合（シングルホームAS）にはAS番号は不要である。

- AS番号は当初は2バイト（16ビット）の値として規定され、0～65535までの整数値として表記された。
- このうち、0と65535は予約されており割り当ては行われない。64512～65534はAS内部で用いる「プライベートAS番号」で、インターネット上では使用しない。

### 4バイトAS番号
- インターネットへの接続ネットワーク数が増え、従来の2バイトの番号では収容しきれなくなってきたため、2007年から4バイト（32ビット）に拡張されたAS番号の割り当てが始まった。
- 割り当て済みの2バイトAS番号は、単純に全ビットの0の上位2バイトを追加することで4バイトAS番号とすることができる（番号としては同じ）。

- 4バイトのAS番号は0～4294967295となり、約42億のASを識別することができる。
- 新たに設けられた65536以上の番号空間のうち、65536～131071と4294967295は予約されている。
- また、4200000000～4294967294はプライベートAS番号用となっている。