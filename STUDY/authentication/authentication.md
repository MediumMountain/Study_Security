# 認証 【authentication】 certification

## PIN 【Personal Identification Number】 暗証番号 / 個人識別番号
- 情報システムが利用者の本人確認のために用いる秘密の番号。

## FIDO 【Fast IDentity Online】
- 生体認証（バイオメトリクス認証）や公開鍵暗号を組み合わせ、パスワード不要のオンライン認証を実現する技術。
- 業界団体FIDO Allianceが仕様を策定している。




# BASIC認証 【基本認証】 basic authentication / ベーシック認証 / HTTP基本認証
- Webコンテンツの送受信などに用いられるプロトコル（通信規約）HTTP（Hypertext Transfer Protocol）の利用者認証の方式の一つで、最も単純で基本的なもの。

# LDAP 【Lightweight Directory Access Protocol】
- インターネットなどのTCP/IPネットワークでディレクトリサービスにアクセスするための通信プロトコルの一つ。
- ディレクトリサービスとは、ネットワーク上のコンピュータの利用者や接続された機器、その他何らかの資源に関する情報をサーバ上のデータベースで一元管理する仕組み。
- 利用者アカウントをディレクトリに登録し、複数のコンピュータで共用するといったことができる。
- LDAP自体にはデータの暗号化やパスワードの秘匿といったセキュリティ保護機能がない。
    - そのため、暗号化プロトコルのSSL/TLSと併用してLDAPによる通信全体を暗号化するLDAPS（LDAP over SSL/TLS）と呼ばれる通信方式が用いられることがある。
- 通常のLDAPはTCPの389番ポートを利用するが、LDAPSは636番を利用することが多い。
- LDAPサーバとしては米マイクロソフト（Microsoft）社の「Active Directory」（アクティブディレクトリ）やオープンソースソフトウェアの「OpenLDAP」（オープンLDAP）などがある。





# IEEE 802.1X
- ネットワークに接続するコンピュータなどの端末を認証する方法を定めた標準規格の一つ。
- 正当な登録利用者のみがLAN（構内ネットワーク）や無線LAN（Wi-Fi）に接続することができるようにする。

    - IEEE 802.1Xを利用するには端末（クライアント）側に「サプリカント」（supplicant）と呼ばれるソフトウェアが必要となる。
    - また、IEEE 802.1Xによる認証機能を持つスイッチやアクセスポイント、ルータなどのことを「オーセンティケータ」（authenticator）という。
    - オーセンティケータは単体で認証を行うことはできず、必ず同じネットワークに認証サーバがなくてはならない。

- IEEE 802.2X標準では、実際に端末側と認証に関するやり取りを行うネットワークスイッチや無線アクセスポイントなどのことをオーセンティケータという。
- 認証情報はRADIUSサーバなどの認証サーバに集約されて管理されている。
- スイッチなどが端末（クライアント）側の認証用ソフトウェア（サプリカント）から接続要求を受信すると、端末側が提示した認証情報を認証サーバへ送信し、接続可否を問い合わせる。


## サプリカント 【supplicant】
- ネットワーク上の利用者や端末の認証において、認証を要求する側（クライアント側）の機器やソフトウェアのこと。
- また、クライアント側で認証のやり取りを実行するソフトウェアのこと。
- 認証サーバに対して認証を求める端末や、サーバとのやり取りの手順を実装したソフトウェアを指す。


## オーセンティケータ 【authenticator】
- 認証器、認証子、認証符号などの意味を持つ英単語。
- 利用者や端末などとやり取りして認証を実施するシステムや装置という意味で用いられることが多い。
- 稀にパスワードなど認証に用いる秘密の符号を指すこともある。



## 認証サーバ
- インターネット接続のために通信事業者が契約者に行う認証ではPAPやCHAPなどが、企業内ネットワークなどで無線LANを利用する場合などにはEAPなどの方式が用いられる。

    - コンピュータシステムへのログインをネットワーク上に設置した認証サーバでまとめて行うシステムが用いられることもある。
    - 利用者は一度のログイン操作でそのコンピュータだけでなく認証サーバの管理下にあるネットワーク上の様々なサーバや資源を利用できるようになる。
    - このような仕組みを「シングルサインオン」（SSO：Single Sign-On）という。
    - Windows ServerのActive Directoryではドメインコントローラがこの認証サーバの役割を果たす。


### PAP 【Password Authentication Protocol】
- ネットワークへの接続時に正規の利用者かどうかを確認する認証プロトコル（通信規約）の一つ。
- 接続を試みる端末（クライアント）から認証サーバへIDとパスワードを送信し、サーバが接続の可否を応答するための手順やデータ形式を定めている。


### CHAP 【Challenge-Handshake Authentication Protocol】
- PPPなどで利用される認証方式の一つ。パスワードを原文（平文）のまま送るのではなく、ハッシュ化して送ることで伝送路上での盗み見、漏洩を防止する。



# RADIUSサーバ 【RADIUS server】
- RADIUS（Remote Authentication Dial-In User Service）
- 登録利用者の認証情報を管理し、認証を実行する機器にRADIUSという通信規約（プロトコル）に基づいて機能を提供するサーバ。大規模なネットワークで利用される。


- RADIUSによる認証は、利用者-RADIUSクライアント-RADIUSサーバという三層構造
    - 「RADIUSクライアント」が一般的な認証システムにおける認証サーバの役割を果たす。
    - RadiusクライアントはNAS（Network Access Server）とも呼ばれる。
    - アクセスしてくるユーザの認証要求を受け付けてRadiusサーバにその情報を転送する

    - 認証要求に応じて認証を実行してアクセスを許可するかどうかを決定するのはRadiusサーバ

    - 利用者側の端末はネットワークに接続する際にPAP、CHAP、EAPなどの認証プロトコルでRADIUSクライアントに認証要求を行い、ユーザー名やパスワードなどを送信する。
    - 認証情報自体はRADIUSサーバが保管しており、RADIUSクライアントはRADIUSサーバに接続可否を問い合わせる。

    ![](../../PICTURE/Authentication/radius1.png)

- 不正なRadiusクライアント（サーバ）からの接続要求の排除
    - 不正なRadiusクライアント、または不正なRadiusサーバからの接続要求を排除するために、Radiusクライアント ⇔ Radiusサーバ間で共有暗号鍵（Shared Secret）を事前に設定しておく
    - また、RadiusサーバとRadiusクライアントともに連携する同士のIPアドレスを指定する。
    - これらの設定によって、不正なRadiusクライアント、Radiusサーバとが通信を行うこと(不正な接続要求)を防止することができる。

    ![](../../PICTURE/Authentication/radius2.png)

- Radiusパケット
    - Radiusプロトコルでは、「属性と値」のペアで構成される属性値ペアというフォーマットで、情報をやりとりする。
    - 属性値ペアはAVペアと呼ばれたりアトリビュートとも呼ばれている。
    - ユーザ名やパスワード情報もこの属性値ペアによって、Radiusサーバに引き渡されている。
    - 値は「数字」または「文字列」が渡される。

| 属性番号 | IETF Attribute | 説明 |
|:------|:--------:|-------:|
|1	|User-Name| Radiusサーバにより認証されるユーザ名|
|2	|User-Password | ユーザのパスワード、またはAccess-Challengeに続くユーザの入力|
|3	|CHAP-Password | CHAPのパスワード。Access-Challengeに対する応答（ユーザが入力した応答値）|
|4	|NAS-IP Address	| 認証を要求しているNetwork Access Server(NAS）のIPアドレス。|
|5	|NAS-Port | ユーザを認証しようとしているNASの物理ポート番号。16ビットの値で構成。|
|6	|Service-Type | 要求されたサービスのタイプ。 特定の数値で示される。1：Login、 2：Framed　3：Callback-Login、4：Callback-Framed、 5：Outbound、 6：Administrative、　7：NAS-Prompt、8 uthenticate Only、 9：Callback-NAS-Prompt|
|7	|Framed-Protocol | フレーム構成。フレーム構成は以下の数値で指定される。1：PPP　2：SLIP　3：ARA　4：Gandalf独自プロトコル　5：Xylogics 独自のIPX/SLIP|
|8	|Framed-IP-Address | ユーザに指定するIPアドレス。Access-Request内でユーザのIPアドレスをRADIUSサーバに送信することで、ユーザに対して設定するIPアドレスを示す。Cisco IOSでは次のコマンドで有効
になる。 (config)# radius-server attribute 8 include-in-access-req　※受け入れられる値は、0xFFFFFFFF(ユーザーがアドレスを選択 ) と0xFFFFFFFE (リモートアクセスサーバーがアドレスを選択 ) のみとなる。|